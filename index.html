<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>SAMPLE</title>
<meta name="description" content="○○○○">
<meta name="keywords" content="○○○○">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1, maximum-scale=1">
<link rel="stylesheet" href="assets/css/base.css" type="text/css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/ScrollTrigger.min.js"></script>
<!-- css -->
<!-- css -->
</head>
<body>
	<article class="wrap">
		<div class="wrapInner">
			<h1 class="title">GSAP Pinning Side Scroll</h1>
				<section class="normal section">
				<div class="container">
					<h2 class="normal-heading heading">普通のセクション</h2>
					<p class="normal-text">
					テキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよ
					</p>
				</div>
				</section>

				<section class="side-scroll section">
				<div class="side-scroll-container container">
					<div class="side-scroll-list-wrapper">
					<ul class="side-scroll-list">
						<li class="side-scroll-item">Card</li>
						<li class="side-scroll-item">Card</li>
						<li class="side-scroll-item">Card</li>
						<li class="side-scroll-item">Card</li>
						<li class="side-scroll-item">Card</li>
						<li class="side-scroll-item">Card</li>
					</ul>
					</div>
				</div>
				</section>

				<section class="normal section">
				<div class="container">
					<h2 class="normal-heading heading">普通のセクション</h2>
					<p class="normal-text">
					テキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよテキストが入りますよ
					</p>
				</div>
</section>
		</div>
	</article>
	<footer class="footer"></footer>
	<script src="assets/js/scroll_observer.js"></script>
<!-- js -->
<script>
	const listWrapperEl = document.querySelector('.side-scroll-list-wrapper');
	const listEl = document.querySelector('.side-scroll-list');
	const panels = document.querySelectorAll(".side-scroll-item");
	const num = panels.length;
	gsap.to(listEl, {
	x: () => -(listEl.clientWidth - listWrapperEl.clientWidth),
	ease: 'none',
	scrollTrigger: {
		trigger: '.side-scroll',
		start: 'top top', // 要素の上端（top）が、ビューポートの上端（top）にきた時
		// end: () => `+=${listEl.clientWidth - listWrapperEl.clientWidth}`,
		// scrub: true,
		// pin: true,
		anticipatePin: 1,
		invalidateOnRefresh: true,
		scrub: 2, //スクロール量に応じて動かす
		pin: true, //ピン留め
		snap: { //キリの良い位置へ移動させる
		snapTo: 1 / ( num - 1 ),
		duration: 0.5,
		},

	},
	});
	
</script>
</body>
</html>